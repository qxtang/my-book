<!DOCTYPE html>
<html lang="zh-cn">
  <head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Book - README</title>

  <link rel="stylesheet" href="/my-book/resource/lib/github-markdown.min.css" />
  <link rel="stylesheet" href="/my-book/resource/style.css" />
  <link rel="stylesheet" href="/my-book/resource/lib/highlight/default.min.css" />
  <script src="/my-book/resource/lib/highlight/highlight.min.js"></script>
  <script src="/my-book/resource/lib/jquery.min.js"></script>
  <script src="//unpkg.com/viewerjs@1.10.4/dist/viewer.min.js"></script>
  <script src="//unpkg.com/jquery-viewer@1.0.1/dist/jquery-viewer.min.js"></script>
  <link rel="stylesheet" href="//unpkg.com/viewerjs@1.10.4/dist/viewer.min.css" />

  <link rel="manifest" href="/my-book/manifest.json" />
  <link rel="shortcut icon" type="image/x-icon" href="/my-book/resource/favicon.ico" />
  <link rel="bookmark" type="image/x-icon" href="/my-book/resource/favicon.ico" />
  <link rel="apple-touch-icon" href="/my-book/resource/favicon.ico" />

  <!-- 编译时间：3/27/2022, 3:51:00 PM -->

  <script>
    window.root = '/my-book';
    hljs.highlightAll();
  </script>

  <script src="/my-book/resource/script.js"></script>
</head>

  <body>
    <div class="menu" id="menu"></div>
    <div class="mobile_menu" id="mobile_menu">
      <img src="https://cdn.jsdelivr.net/gh/FortAwesome/font-awesome/svgs/solid/bars.svg" alt="" />
    </div>
    <div class="content markdown-body"><p><img src="https://github.com/creationix/http-parser-js/workflows/Node/badge.svg" alt="Node">
<img src="https://github.com/creationix/http-parser-js/workflows/Node-v12/badge.svg" alt="Node-v12"></p>
<h1>HTTP Parser</h1>
<p>This library parses HTTP protocol for requests and responses.
It was created to replace <code>http_parser.c</code> since calling C++ functions from JS is really slow in V8.
However, it is now primarily useful in having a more flexible/tolerant HTTP parser when dealing with legacy services that do not meet the strict HTTP parsing rules Node's parser follows.</p>
<p>This is packaged as a standalone npm module.
To use in node, monkeypatch HTTPParser.</p>
<pre><code class="language-js">// Monkey patch before you require http for the first time.
process.binding('http_parser').HTTPParser = require('http-parser-js').HTTPParser;

var http = require('http');
// ...
</code></pre>
<h2>Testing</h2>
<p>Simply run <code>npm test</code>.
The tests are copied from node and mscedex/io.js, with some modifcations.</p>
<h2>Status</h2>
<p>This should now be usable in any node application, it now supports (nearly) everything <code>http_parser.c</code> does while still being tolerant with corrupted headers, and other kinds of malformed data.</p>
<h3>Node versions</h3>
<p><code>http-parser-js</code> should work via monkey-patching on Node v6-v11, and v13-14.</p>
<p>Node v12.x renamed the internal http parser, and did not expose it for monkey-patching, so to be able to monkey-patch on Node v12, you must run <code>node --http-parser=legacy file.js</code> to opt in to the old, monkey-patchable http_parser binding.</p>
<h2>Standalone usage</h2>
<p>While this module is intended to be used as a replacement for the internal Node.js parser, it can be used as a standalone parser. The <a href="standalone-example.js"><code>standalone-example.js</code></a> demonstrates how to use the somewhat awkward API (coming from compatibility with the Node.js internals) to parse HTTP from raw Buffers.</p>
<h2>License</h2>
<p>MIT.
See <a href="LICENSE.md">LICENSE.md</a></p>
</div>
  </body>
</html>

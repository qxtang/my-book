<!DOCTYPE html>
<html lang="zh-cn">
  <head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Book - Babel</title>

  <link rel="stylesheet" href="/my-book/resource/lib/github-markdown.min.css" />
  <link rel="stylesheet" href="/my-book/resource/style.css" />
  <link rel="stylesheet" href="/my-book/resource/lib/highlight/default.min.css" />
  <script src="/my-book/resource/lib/highlight/highlight.min.js"></script>
  <script src="/my-book/resource/lib/jquery.min.js"></script>
  <script src="//unpkg.com/viewerjs@1.10.4/dist/viewer.min.js"></script>
  <script src="//unpkg.com/jquery-viewer@1.0.1/dist/jquery-viewer.min.js"></script>
  <link rel="stylesheet" href="//unpkg.com/viewerjs@1.10.4/dist/viewer.min.css" />

  <link rel="manifest" href="/my-book/manifest.json" />
  <link rel="shortcut icon" type="image/x-icon" href="/my-book/resource/favicon.ico" />
  <link rel="bookmark" type="image/x-icon" href="/my-book/resource/favicon.ico" />
  <link rel="apple-touch-icon" href="/my-book/resource/favicon.ico" />

  <!-- ç¼–è¯‘æ—¶é—´ï¼š4/1/2022, 11:33:45 AM -->

  <script>
    window.root = '/my-book';
    hljs.highlightAll();
  </script>

  <script src="/my-book/resource/script.js"></script>
</head>

  <body>
    <div class="menu" id="menu"></div>
    <div class="mobile_menu" id="mobile_menu">
      <img src="https://cdn.jsdelivr.net/gh/FortAwesome/font-awesome/svgs/solid/bars.svg" alt="" />
    </div>
    <div class="content markdown-body"><h1 id="%E6%A6%82%E5%BF%B5" tabindex="-1"><a class="header-anchor" href="#%E6%A6%82%E5%BF%B5" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> æ¦‚å¿µ</h1>
<ul>
<li>ä¸€ä¸ª JavaScript ç¿»è¯‘å™¨</li>
<li>å°† ECMAScript 2015+ è¯­æ³•ç¼–å†™çš„ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„ JavaScript è¯­æ³•ï¼Œä»¥ä¾¿èƒ½å¤Ÿè¿è¡Œåœ¨å„ç§ç¯å¢ƒä¸­</li>
<li>é€šè¿‡ Polyfill æ–¹å¼åœ¨ç›®æ ‡ç¯å¢ƒä¸­æ·»åŠ ç¼ºå¤±çš„ç‰¹æ€§ ï¼ˆé€šè¿‡å¼•å…¥ç¬¬ä¸‰æ–¹ polyfill æ¨¡å—ï¼Œä¾‹å¦‚ core-jsï¼‰</li>
</ul>
<h1 id="%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86" tabindex="-1"><a class="header-anchor" href="#%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> åŸºæœ¬å·¥ä½œåŸç†</h1>
<ul>
<li>
<p>ç¬¬ 1 æ­¥ è§£æï¼ˆParseï¼‰<br>
é€šè¿‡è§£æå™¨ babylon å°†ä»£ç è§£ææˆæŠ½è±¡è¯­æ³•æ ‘</p>
</li>
<li>
<p>ç¬¬ 2 æ­¥ è½¬æ¢ï¼ˆTransFormï¼‰<br>
é€šè¿‡ babel-traverse plugin å¯¹æŠ½è±¡è¯­æ³•æ ‘è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†ï¼Œé‡åˆ°éœ€è¦è½¬æ¢çš„ï¼Œå°±ç›´æ¥åœ¨ AST å¯¹è±¡ä¸Šå¯¹èŠ‚ç‚¹è¿›è¡Œæ·»åŠ ã€æ›´æ–°åŠç§»é™¤æ“ä½œï¼Œæ¯”å¦‚é‡åˆ°ç®­å¤´å‡½æ•°ï¼Œå°±è½¬æ¢æˆæ™®é€šå‡½æ•°ï¼Œæœ€åå¾—åˆ°æ–°çš„ AST æ ‘</p>
</li>
<li>
<p>ç¬¬ 3 æ­¥ ç”Ÿæˆï¼ˆGenerateï¼‰<br>
é€šè¿‡ babel-generator å°† AST æ ‘ç”Ÿæˆ es5 ä»£ç </p>
</li>
</ul>
<p><img src="../resource/20220330141846.png" alt=""></p>
<p><img src="../resource/20220330141837.png" alt=""></p>
<h1 id="%E9%85%8D%E7%BD%AE" tabindex="-1"><a class="header-anchor" href="#%E9%85%8D%E7%BD%AE" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> é…ç½®</h1>
<p>ä¸»è¦åˆ†ä¸º presets å’Œ plugins</p>
<h2 id=".babelrc._-%E5%92%8C-babel.config._-%E5%8C%BA%E5%88%AB" tabindex="-1"><a class="header-anchor" href="#.babelrc._-%E5%92%8C-babel.config._-%E5%8C%BA%E5%88%AB" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> .babelrc._ å’Œ babel.config._ åŒºåˆ«</h2>
<ul>
<li>.babelrc.* ä»…é€‚ç”¨äºé¡¹ç›®çš„æŸä¸ªéƒ¨åˆ†</li>
<li>babel.config.* ä¼šå½±å“æ•´ä¸ªé¡¹ç›®ä¸­çš„ä»£ç ï¼ŒåŒ…å« node_modules ä¸­çš„ä»£ç </li>
<li>æ¨èä½¿ç”¨ babel.config.*ï¼ŒBabel è‡ªèº«ä½¿ç”¨çš„å°±æ˜¯è¿™ç§æ ¼å¼</li>
</ul>
<h2 id="presets" tabindex="-1"><a class="header-anchor" href="#presets" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> presets</h2>
<ul>
<li>é€†åºå¤„ç†ï¼Œä»åå¾€å‰ï¼Œè¿™ä¸»è¦æ˜¯ä¸ºäº†ç¡®ä¿å‘åå…¼å®¹ï¼Œç”±äºå¤§å¤šæ•°ç”¨æˆ·å°† &quot;es2015&quot; æ”¾åœ¨ &quot;stage-0&quot; ä¹‹å‰ï¼Œ</li>
<li>å¯ä»¥æ˜¯æ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²</li>
</ul>
<pre><code class="language-json">{
  &quot;presets&quot;: [
    &quot;presetA&quot;, // bare string
    [&quot;presetA&quot;], // wrapped in array
    [&quot;presetA&quot;, {}] // 2nd argument is an empty options object
  ]
}
</code></pre>
<h3 id="usebuiltins" tabindex="-1"><a class="header-anchor" href="#usebuiltins" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> useBuiltIns</h3>
<pre><code class="language-json">{
  &quot;presets&quot;: [
    [
      &quot;@babel/preset-env&quot;,
      {
        &quot;useBuiltIns&quot;: &quot;usage&quot;,
        &quot;debug&quot;: true
      }
    ]
  ]
}
</code></pre>
<ul>
<li>babel åœ¨è½¬è¯‘çš„æ—¶å€™ï¼Œä¼šå°†æºä»£ç åˆ†æˆ syntaxï¼ˆè¯­æ³•ï¼‰ å’Œ api ä¸¤éƒ¨åˆ†æ¥å¤„ç†ï¼Œè¯­æ³•å¤„ç†é€šè¿‡é…ç½® presetsï¼Œ</li>
<li>babel ä½¿ç”¨ polyfill æ¥å¤„ç† apiï¼Œ@babel/preset-env ä¸­æœ‰ä¸€ä¸ªé…ç½®é€‰é¡¹ useBuiltInsï¼Œç”¨æ¥å‘Šè¯‰ babel å¦‚ä½•å¤„ç† apiï¼Œç”±äºè¿™ä¸ªé€‰é¡¹é»˜è®¤å€¼ä¸º falseï¼Œå³ä¸å¤„ç† apiï¼Œæ‰€ä»¥ä»£ç è½¬è¯‘åé»˜è®¤æ²¡æœ‰å¤„ç† apiï¼Œå¯ä»¥é€šè¿‡æ‰‹åŠ¨å¼•å…¥ polyfillï¼Œä½†æ˜¯ polyfill æ²¡æœ‰åŠ¨æ€å¼•å…¥ä¼šå¢åŠ åŒ…çš„ä½“ç§¯ï¼Œ</li>
<li>è®¾ç½® useBuiltIns çš„å€¼ä¸º &quot;entry&quot;ï¼ŒåŒæ—¶åœ¨æºä»£ç çš„æœ€ä¸Šæ–¹æ‰‹åŠ¨å¼•å…¥ <code>@babel/polyfill</code> è¿™ä¸ªåº“ï¼ˆè¯¥åº“ä¸€å…±åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯ core-jsï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯ regenerator-runtimeã€‚å…¶ä¸­ core-js ä¸ºå…¶ä»–å›¢é˜Ÿå¼€æºçš„å¦ä¸€ä¸ªç‹¬ç«‹é¡¹ç›®ï¼‰ï¼Œæ­¤æ—¶ babel æ ¹æ®é¡¹ç›® browserslistï¼Œå¼•å…¥æµè§ˆå™¨ä¸å…¼å®¹çš„ polyfillã€‚éœ€è¦åœ¨å…¥å£æ–‡ä»¶æ‰‹åŠ¨æ·»åŠ  <code>import '@babel/polyfill'</code>ï¼Œä¼šè‡ªåŠ¨æ ¹æ® browserslist æ›¿æ¢æˆæµè§ˆå™¨ä¸å…¼å®¹çš„æ‰€æœ‰ polyfill</li>
<li>å°† useBuiltIns æ”¹ä¸º &quot;usage&quot;ï¼Œbabel å°±å¯ä»¥æŒ‰éœ€åŠ è½½ polyfillï¼Œå¹¶ä¸”ä¸éœ€è¦æ‰‹åŠ¨å¼•å…¥ <code>@babel/polyfill</code></li>
</ul>
<h4 id="%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98" tabindex="-1"><a class="header-anchor" href="#%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> å­˜åœ¨çš„é—®é¢˜</h4>
<ul>
<li>polyfill ä¼šç›´æ¥åœ¨å…¨å±€å¯¹è±¡ä¸Šå®šä¹‰æ–¹æ³•ï¼Œæ¯”å¦‚ Array.includeï¼Œä¼—æ‰€å‘¨çŸ¥å‰ç«¯å¼€å‘ä¸é¼“åŠ±æ±¡æŸ“å…¨å±€å˜é‡ï¼Œ</li>
<li>babel ä¼šå‘ç¿»è¯‘åçš„<strong>æ¯ä¸€ä¸ª</strong>æ–‡ä»¶åŸåœ°å®šä¹‰è®¸å¤šå¸®åŠ©å‡½æ•°ï¼Œç”¨äºè½¬ä¹‰è¯­æ³•ï¼Œæ¯”å¦‚ <code>__spreadArray</code>ã€<code>__generator</code>,</li>
</ul>
<h2 id="plugins" tabindex="-1"><a class="header-anchor" href="#plugins" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> plugins</h2>
<ul>
<li>æœ¬è´¨å°±æ˜¯ä¸€ä¸ª JS ç¨‹åº, æŒ‡ç¤º Babel å¦‚ä½•å¯¹ä»£ç è¿›è¡Œè½¬æ¢</li>
<li>æ’åˆ—é¡ºåºå¾ˆé‡è¦</li>
<li>æ’ä»¶åœ¨ presets å‰è¿è¡Œ</li>
<li>æ’ä»¶é¡ºåºä»å‰å¾€åæ’åˆ—ï¼Œä¸ presets ç›¸å</li>
</ul>
<h1 id="%E6%A0%B8%E5%BF%83%E4%B8%8E%E5%85%B6%E5%91%A8%E8%BE%B9" tabindex="-1"><a class="header-anchor" href="#%E6%A0%B8%E5%BF%83%E4%B8%8E%E5%85%B6%E5%91%A8%E8%BE%B9" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> æ ¸å¿ƒä¸å…¶å‘¨è¾¹</h1>
<h2 id="%40babel%2Fcore" tabindex="-1"><a class="header-anchor" href="#%40babel%2Fcore" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> @babel/core</h2>
<ul>
<li>babel ä½¿ç”¨äº†å¾®å†…æ ¸çš„æ¶æ„é£æ ¼ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬çš„æ ¸å¿ƒéå¸¸å°ï¼Œå¤§éƒ¨åˆ†åŠŸèƒ½éƒ½æ˜¯é€šè¿‡æ’ä»¶æ‰©å±•å®ç°çš„ï¼Œ@babel/core å°±æ˜¯è¿™ä¸ªå†…æ ¸</li>
<li>ä½œç”¨ï¼š
<ul>
<li>åŠ è½½å’Œå¤„ç†é…ç½®(config)</li>
<li>åŠ è½½æ’ä»¶</li>
<li>è°ƒç”¨ Parser è¿›è¡Œè¯­æ³•è§£æï¼Œç”Ÿæˆ AST</li>
<li>è°ƒç”¨ Traverser éå† ASTï¼Œå¹¶ä½¿ç”¨è®¿é—®è€…æ¨¡å¼åº”ç”¨'æ’ä»¶'å¯¹ AST è¿›è¡Œè½¬æ¢</li>
<li>ç”Ÿæˆä»£ç ï¼ŒåŒ…æ‹¬ SourceMap è½¬æ¢å’Œæºä»£ç ç”Ÿæˆ</li>
</ul>
</li>
</ul>
<h2 id="%40babel%2Fcli" tabindex="-1"><a class="header-anchor" href="#%40babel%2Fcli" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> @babel/cli</h2>
<p>å‘½ä»¤è¡Œå·¥å…·</p>
<h2 id="%40babel%2Fplugin-transform-runtime" tabindex="-1"><a class="header-anchor" href="#%40babel%2Fplugin-transform-runtime" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> @babel/plugin-transform-runtime</h2>
<ul>
<li>è¿™ä¸ªæ’ä»¶å°±æ˜¯ä¸ºäº†è§£å†³ useBuiltIns polyfill æ±¡æŸ“å…¨å±€çš„é—®é¢˜å’Œæ¯ä¸€ä¸ªæ–‡ä»¶éƒ½æœ‰è¾…åŠ©å‡½æ•°é—®é¢˜ï¼Œ</li>
<li>å°† babel è½¬è¯‘æ—¶æ·»åŠ åˆ°æ–‡ä»¶ä¸­çš„å†…è”è¾…åŠ©å‡½æ•°ç»Ÿä¸€éš”ç¦»åˆ° babel-runtime æä¾›çš„ helper æ¨¡å—ä¸­</li>
<li>ç¼–è¯‘æ—¶ï¼Œç›´æ¥ä» helper æ¨¡å—åŠ è½½ï¼Œä¸åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­é‡å¤çš„å®šä¹‰è¾…åŠ©å‡½æ•°ï¼Œä»è€Œå‡å°‘åŒ…çš„å°ºå¯¸</li>
<li>å…¶ä¸­ <code>@babel/plugin-transform-runtime</code> çš„ä½œç”¨æ˜¯è½¬è¯‘ä»£ç ï¼Œè½¬è¯‘åçš„ä»£ç ä¸­å¯èƒ½ä¼šå¼•å…¥ <code>@babel/runtime-corejs3</code> é‡Œé¢çš„æ¨¡å—ã€‚</li>
<li>å‰è€…è¿è¡Œåœ¨ç¼–è¯‘æ—¶ï¼Œåè€…è¿è¡Œåœ¨è¿è¡Œæ—¶ã€‚ç±»ä¼¼ polyfillï¼Œåè€…éœ€è¦è¢«æ‰“åŒ…åˆ°æœ€ç»ˆäº§ç‰©é‡Œåœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚</li>
<li>typescript çš„ importHelpers é…ç½®å’Œ tslib ç±»ä¼¼åŸç†</li>
</ul>
<p>å®‰è£…ï¼š</p>
<pre><code class="language-sh">$ yarn add @babel/plugin-transform-runtime -D
$ yarn add @babel/runtime-corejs3
</code></pre>
<p>ä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="language-json">{
  &quot;presets&quot;: [
    [
      &quot;@babel/preset-env&quot;,
      {
        &quot;useBuiltIns&quot;: &quot;usage&quot;,
        &quot;debug&quot;: true
      }
    ]
  ],
  &quot;plugins&quot;: [
    [
      &quot;@babel/plugin-transform-runtime&quot;,
      {
        &quot;corejs&quot;: 3 // æŒ‡å®š runtime-corejs çš„ç‰ˆæœ¬ï¼Œç›®å‰æœ‰ 2 3 ä¸¤ä¸ªç‰ˆæœ¬
      }
    ]
  ]
}
</code></pre>
<p>å¼•å…¥äº†è¿™ä¸ªæ’ä»¶åï¼š</p>
<ul>
<li>api ä»ä¹‹å‰çš„ç›´æ¥ä¿®æ”¹åŸå‹æ”¹ä¸ºäº†ä»ä¸€ä¸ªç»Ÿä¸€çš„æ¨¡å—ä¸­å¼•å…¥ï¼Œé¿å…äº†å¯¹å…¨å±€å˜é‡åŠå…¶åŸå‹çš„æ±¡æŸ“</li>
<li>helpers ä»ä¹‹å‰çš„åŸåœ°å®šä¹‰æ”¹ä¸ºäº†ä»ä¸€ä¸ªç»Ÿä¸€çš„æ¨¡å—ä¸­å¼•å…¥ï¼Œä½¿å¾—æ‰“åŒ…çš„ç»“æœä¸­æ¯ä¸ª helper åªä¼šå­˜åœ¨ä¸€ä¸ª</li>
</ul>
<h2 id="%40babel%2Fparser" tabindex="-1"><a class="header-anchor" href="#%40babel%2Fparser" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> @babel/parser</h2>
<ul>
<li>å°†æºä»£ç è§£æä¸º AST</li>
<li>å·²ç»å†…ç½®æ”¯æŒå¾ˆå¤šè¯­æ³•. ä¾‹å¦‚ JSXã€Typescriptã€Flowã€ä»¥åŠæœ€æ–°çš„ ECMAScript è§„èŒƒ</li>
</ul>
<h2 id="%40babel%2Ftraverse" tabindex="-1"><a class="header-anchor" href="#%40babel%2Ftraverse" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> @babel/traverse</h2>
<ul>
<li>å®ç°äº†è®¿é—®è€…æ¨¡å¼ï¼Œå¯¹ AST è¿›è¡Œéå†ï¼Œè½¬æ¢æ’ä»¶ä¼šé€šè¿‡å®ƒè·å–æ„Ÿå…´è¶£çš„ AST èŠ‚ç‚¹ï¼Œå¯¹èŠ‚ç‚¹ç»§ç»­æ“ä½œ</li>
</ul>
<h2 id="%40babel%2Fgenerator" tabindex="-1"><a class="header-anchor" href="#%40babel%2Fgenerator" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> @babel/generator</h2>
<ul>
<li>å°† AST è½¬æ¢ä¸ºæºä»£ç ï¼Œæ”¯æŒ SourceMap</li>
</ul>
<h2 id="%40babel%2Fpreset-env" tabindex="-1"><a class="header-anchor" href="#%40babel%2Fpreset-env" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> @babel/preset-env</h2>
<ul>
<li>è¯­æ³•è½¬æ¢æ’ä»¶çš„é›†åˆ</li>
<li>å¯ä»¥æ ¹æ®é…ç½®çš„ç›®æ ‡æµè§ˆå™¨æˆ–è€…è¿è¡Œç¯å¢ƒï¼ˆbrowserslistã€targetsï¼‰ï¼Œå°† ES2015+ çš„è¯­æ³•è½¬æ¢ä¸º es5 è¯­æ³•ï¼Œä¸éœ€è¦ä¸€ä¸ªä¸ªè¯­æ³•æ’ä»¶å»å®‰è£…ï¼ˆæ¯”å¦‚@babel/plugin-transform-arrow-functionsï¼‰</li>
</ul>
<h2 id="core.js" tabindex="-1"><a class="header-anchor" href="#core.js" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> core.js</h2>
<ul>
<li>æ–° api é›†åˆ</li>
</ul>
<h2 id="%40babel%2Fpolyfill" tabindex="-1"><a class="header-anchor" href="#%40babel%2Fpolyfill" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> @babel/polyfill</h2>
<ul>
<li>@babel/polyfill èåˆäº† core-js å’Œ regenerator-runtimeï¼Œå› æ­¤ babel-polyfill æœ¬è´¨å°±æ˜¯ corejs</li>
<li>å¼•å…¥ @bable/polyfill å°±ç›¸å½“äºåœ¨ä»£ç ä¸­å¼•å…¥ä¸‹é¢ä¸¤ä¸ªåº“<pre><code class="language-javascript">import 'core-js/stable';
import 'regenerator-runtime/runtime';
</code></pre>
</li>
<li>å®˜æ–¹æç¤ºå·²ç» deprecatedï¼Œæ¨èä½¿ç”¨ core-js@3 + @babel/preset-env å³å¯<pre><code class="language-txt">ğŸš¨ As of Babel 7.4.0, this package has been deprecated in favor of directly including core-js/stable (to polyfill ECMAScript features) and regenerator-runtime/runtime (needed to use transpiled generator functions)
</code></pre>
</li>
</ul>
<h2 id="regenerator-runtime" tabindex="-1"><a class="header-anchor" href="#regenerator-runtime" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a> regenerator-runtime</h2>
<ul>
<li>ç”Ÿæˆå™¨å‡½æ•°ã€asyncã€await å‡½æ•°ç» babel ç¼–è¯‘åï¼Œregenerator-runtime æ¨¡å—ç”¨äºæä¾›åŠŸèƒ½å®ç°ï¼Œè¿è¡Œæ—¶ä¾èµ–ï¼Œéœ€è¦æ‰“åŒ…è¿›äº§ç‰©</li>
</ul>
<p><div class="table-of-contents"><ul><li><a href="#%E6%A6%82%E5%BF%B5"> æ¦‚å¿µ</a></li><li><a href="#%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"> åŸºæœ¬å·¥ä½œåŸç†</a></li><li><a href="#%E9%85%8D%E7%BD%AE"> é…ç½®</a><ul><li><a href="#.babelrc._-%E5%92%8C-babel.config._-%E5%8C%BA%E5%88%AB"> .babelrc._ å’Œ babel.config._ åŒºåˆ«</a></li><li><a href="#presets"> presets</a></li><li><a href="#plugins"> plugins</a></li></ul></li><li><a href="#%E6%A0%B8%E5%BF%83%E4%B8%8E%E5%85%B6%E5%91%A8%E8%BE%B9"> æ ¸å¿ƒä¸å…¶å‘¨è¾¹</a><ul><li><a href="#%40babel%2Fcore"> @babel/core</a></li><li><a href="#%40babel%2Fcli"> @babel/cli</a></li><li><a href="#%40babel%2Fplugin-transform-runtime"> @babel/plugin-transform-runtime</a></li><li><a href="#%40babel%2Fparser"> @babel/parser</a></li><li><a href="#%40babel%2Ftraverse"> @babel/traverse</a></li><li><a href="#%40babel%2Fgenerator"> @babel/generator</a></li><li><a href="#%40babel%2Fpreset-env"> @babel/preset-env</a></li><li><a href="#core.js"> core.js</a></li><li><a href="#%40babel%2Fpolyfill"> @babel/polyfill</a></li><li><a href="#regenerator-runtime"> regenerator-runtime</a></li></ul></li></ul></div></p>
</div>
  </body>
</html>
